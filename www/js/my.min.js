function loadFixedCSS(){cssFile="";if($.browser.msie){cssFile=$.browser.version=="6.0"?config.themeRoot+"/browser/ie.6.css":config.themeRoot+"browser/ie.css"}else{if($.browser.mozilla){cssFile=config.themeRoot+"/browser/firefox.css"}else{if($.browser.opera){cssFile=config.themeRoot+"/browser/opera.css"}else{if($.browser.safari){cssFile=config.themeRoot+"/browser/safari.css"}else{if($.browser.chrome){cssFile=config.themeRoot+"/browser/chrome.css"}}}}}if(cssFile!=""){$("<link>").appendTo($("head")).attr({type:"text/css",rel:"stylesheet"}).attr("href",cssFile)}}function createLink(c,b,d,a){if(!a){a=config.defaultView}if(d){d=d.split("&");for(i=0;i<d.length;i++){d[i]=d[i].split("=")}}if(config.requestType=="PATH_INFO"){link=config.webRoot+c+config.requestFix+b;if(d){if(config.pathType=="full"){for(i=0;i<d.length;i++){link+=config.requestFix+d[i][0]+config.requestFix+d[i][1]}}else{for(i=0;i<d.length;i++){link+=config.requestFix+d[i][1]}}}link+="."+a}else{link=config.router+"?"+config.moduleVar+"="+c+"&"+config.methodVar+"="+b+"&"+config.viewVar+"="+a;if(d){for(i=0;i<d.length;i++){link+="&"+d[i][0]+"="+d[i][1]}}}return link}function shortcut(){objectType=$("#searchType").attr("value");objectValue=$("#searchQuery").attr("value");if(objectType&&objectValue){location.href=createLink(objectType,"view","id="+objectValue)}}function setNowrapObjTitle(){$(".nobr").each(function(a){if($.browser.mozilla){this.title=this.textContent}else{this.title=this.innerText}})}function setProductSwitcher(){productMode=$.cookie("productMode");if(!productMode){productMode="noclosed"}if(productMode=="all"){$("#productID").append($("<option value='noclosed' id='switcher'>"+config.lblHideClosed+"</option>"))}else{$("#productID").append($("<option value='all' id='switcher'>"+config.lblShowAll+"</option>"))}}function switchProduct(c,b,d,a){if(isNaN(c)){$.cookie("productMode",c,{expires:config.cookieLife,path:config.webRoot});c=0}if(b=="product"||b=="roadmap"||b=="bug"||b=="testcase"||b=="testtask"){link=createLink(b,d,"productID="+c)}else{if(b=="productplan"||b=="release"){if(d!="browse"&&d!="create"){d="browse"}link=createLink(b,d,"productID="+c)}else{if(b=="tree"){link=createLink(b,d,"productID="+c+"&type="+a)}}}location.href=link}function switchDocLib(c,b,d,a){if(b=="doc"){if(d!="view"&&d!="edit"){link=createLink(b,d,"rootID="+c)}else{link=createLink("doc","browse")}}else{if(b=="tree"){link=createLink(b,d,"rootID="+c+"&type="+a)}}location.href=link}function saveProduct(){if($("#productID")){$.cookie("lastProduct",$("#productID").val(),{expires:config.cookieLife,path:config.webRoot})}}function setProjectSwitcher(){projectMode=$.cookie("projectMode");if(!projectMode){projectMode="noclosed"}if(projectMode=="all"){$("#projectID").append($("<option value='noclosed' id='switcher'>"+config.lblHideClosed+"</option>"))}else{$("#projectID").append($("<option value='all' id='switcher'>"+config.lblShowAll+"</option>"))}}function switchProject(a,b,c){if(isNaN(a)){$.cookie("projectMode",a,{expires:config.cookieLife,path:config.webRoot});a=0}if(b=="task"&&(c=="view"||c=="edit"||c=="batchedit")){b="project";c="task"}if(b=="build"&&c=="edit"){b="project";c="build"}link=createLink(b,c,"projectID="+a);location.href=link}function saveProject(){if($("#projectID")){$.cookie("lastProject",$("#projectID").val(),{expires:config.cookieLife,path:config.webRoot})}}function switchAccount(a,b){if(b=="dynamic"){link=createLink("user",b,"period="+period+"&account="+a)}else{link=createLink("user",b,"account="+a)}location.href=link}function setPing(){$("#hiddenwin").attr("src",createLink("misc","ping"))}function setRequiredFields(){if(!config.requiredFields){return false}requiredFields=config.requiredFields.split(",");for(i=0;i<requiredFields.length;i++){$("#"+requiredFields[i]).after('<span class="star"> * </span>')}}function setHelpLink(){if(!$.cookie("help")){$.cookie("help","off",{expires:config.cookieLife,path:config.webRoot})}className=$.cookie("help")=="off"?"hidden":"";$("form input[id], form select[id], form textarea[id]").each(function(){if($(this).attr("type")=="hidden"||$(this).attr("type")=="file"){return}currentFieldName=$(this).attr("name")?$(this).attr("name"):$(this).attr("id");if(currentFieldName=="submit"||currentFieldName=="reset"){return}if(currentFieldName.indexOf("[")>0){currentFieldName=currentFieldName.substr(0,currentFieldName.indexOf("["))}currentFieldName=currentFieldName.toLowerCase();helpLink=createLink("help","field","module="+config.currentModule+"&method="+config.currentMethod+"&field="+currentFieldName);$(this).after(' <a class="helplink '+className+'" href='+helpLink+' target="_blank">?</a> ')});if($("a.helplink").size()){$("a.helplink").colorbox({width:600,height:240,iframe:true,transition:"elastic",speed:350,scrolling:false})}}function setPlaceholder(){if(typeof(holders)!="undefined"){for(var a in holders){$("#"+a).attr("placeholder",holders[a])}}}function toggleHelpLink(){$(".helplink").toggle();if($.cookie("help")=="off"){return $.cookie("help","on",{expires:config.cookieLife,path:config.webRoot})}if($.cookie("help")=="on"){return $.cookie("help","off",{expires:config.cookieLife,path:config.webRoot})}}function selectLang(a){$.cookie("lang",a,{expires:config.cookieLife,path:config.webRoot});location.href=removeAnchor(location.href)}function selectTheme(a){$.cookie("theme",a,{expires:config.cookieLife,path:config.webRoot});location.href=removeAnchor(location.href)}function removeAnchor(a){pos=a.indexOf("#");if(pos>0){return a.substring(0,pos)}return a}function saveWindowSize(){width=$(window).width();height=$(window).height();$.cookie("windowWidth",width);$.cookie("windowHeight",height)}function setOuterBox(){var c=window.screen.width;var b=$(window).height();var f=$("#header").height();var a=$("#modulemenu").parent().parent().height();var d=$("#footer").height()+15;if(document.documentElement.clientHeight>=document.documentElement.scrollHeight){var e=b-f-d-a-37;if($.browser.msie&&($.browser.version=="6.0")&&!$.support.style){e=b-f-d-98}if($.browser.msie&&($.browser.version=="6.0")){$(".outer").css("height",e)}$(".outer").css("min-height",e)}if($.browser.msie&&($.browser.version=="6.0")&&!$.support.style){c-=49;$("#wrap").width(c)}}function setAbout(){if($("a.about").size()){$("a.about").colorbox({width:900,height:330,iframe:true,transition:"elastic",speed:500,scrolling:false})}}function setDebugWin(a){if($.browser.msie&&$(".debugwin").size()==1){var b=$(".debugwin")[0].contentWindow.document;$("body",b).append("<style>body{background:"+a+"}</style>")}}function setForm(){var a=false;$("form").submit(function(){submitObj=$(this).find(":submit");if($(submitObj).size()==1){submitLabel=$(submitObj).attr("value");$(submitObj).attr("disabled","disabled");$(submitObj).attr("value",config.submitting);$(submitObj).addClass("button-d");a=true}});$("body").click(function(){if(a){$(submitObj).removeAttr("disabled");$(submitObj).attr("value",submitLabel);$(submitObj).removeClass("button-d")}a=false})}function setImageSize(b,a){if(!a){bodyWidth=$("body").width();a=bodyWidth-450}$(".content img").each(function(){if($(this).width()>a){$(this).attr("width",a)}})}function setSubversionLink(){if($(".svnlink").size()){$(".svnlink").colorbox({width:960,height:600,iframe:true,transition:"elastic",speed:350,scrolling:true})}}function setProductListLink(){if($("#submenuproject").size()){$("#submenuproject").colorbox({width:1000,height:600,iframe:true,transition:"elastic",speed:350,scrolling:true})}}function setProjectListLink(){if($("#submenuall").size()){$("#submenuall").colorbox({width:1000,height:600,iframe:true,transition:"elastic",speed:350,scrolling:true})}}function setExport(){if($(".export").size()){$(".export").colorbox({width:500,height:200,iframe:true,transition:"elastic",speed:350,scrolling:true})}}function autoCheck(){$(".tablesorter tr :checkbox").click(function(){if($(this).attr("checked")){$(this).attr("checked",false)}else{$(this).attr("checked",true)}return});$(".tablesorter tr").click(function(){if(document.activeElement.type!="select-one"&&document.activeElement.type!="text"){if($(this).find(":checkbox").attr("checked")){$(this).find(":checkbox").attr("checked",false)}else{$(this).find(":checkbox").attr("checked",true)}}})}function togglesearch(){$("#bysearchTab").toggle(function(){if(browseType=="bymodule"){$("#treebox").addClass("hidden");$(".divider").addClass("hidden");$("#bymoduleTab").removeClass("active")}else{$("#"+browseType+"Tab").removeClass("active")}$("#bysearchTab").addClass("active");$("#querybox").removeClass("hidden")},function(){if(browseType=="bymodule"){$("#treebox").removeClass("hidden");$(".divider").removeClass("hidden");$("#bymoduleTab").addClass("active")}else{$("#"+browseType+"Tab").addClass("active")}$("#bysearchTab").removeClass("active");$("#querybox").addClass("hidden")})}function addItem(d,b){ItemList=document.getElementById(d);Target=document.getElementById(b);for(var a=0;a<ItemList.length;a++){var c=ItemList.options[a];if(c.selected){flag=true;for(var f=0;f<Target.length;f++){var e=Target.options[f];if(e.value==c.value){flag=false}}if(flag){Target.options[Target.options.length]=new Option(c.text,c.value,0,0)}}}}function delItem(c){ItemList=document.getElementById(c);for(var a=ItemList.length-1;a>=0;a--){var b=ItemList.options[a];if(b.selected){ItemList.options[a]=null}}}function upItem(c){ItemList=document.getElementById(c);for(var a=1;a<ItemList.length;a++){var b=ItemList.options[a];if(b.selected){tmpUpValue=ItemList.options[a-1].value;tmpUpText=ItemList.options[a-1].text;ItemList.options[a-1].value=b.value;ItemList.options[a-1].text=b.text;ItemList.options[a].value=tmpUpValue;ItemList.options[a].text=tmpUpText;ItemList.options[a-1].selected=true;ItemList.options[a].selected=false;break}}}function downItem(c){ItemList=document.getElementById(c);for(var a=0;a<ItemList.length;a++){var b=ItemList.options[a];if(b.selected){tmpUpValue=ItemList.options[a+1].value;tmpUpText=ItemList.options[a+1].text;ItemList.options[a+1].value=b.value;ItemList.options[a+1].text=b.text;ItemList.options[a].value=tmpUpValue;ItemList.options[a].text=tmpUpText;ItemList.options[a+1].selected=true;ItemList.options[a].selected=false;break}}}function selectItem(c){ItemList=document.getElementById(c);for(var a=ItemList.length-1;a>=0;a--){var b=ItemList.options[a];b.selected=true}}needPing=true;$(document).ready(function(){setNowrapObjTitle();setRequiredFields();setPlaceholder();setProductSwitcher();setProjectSwitcher();setAbout();saveProduct();saveProject();setForm();setSubversionLink();setProductListLink();setProjectListLink();setExport();autoCheck();togglesearch();saveWindowSize();loadFixedCSS();$(window).resize(function(){saveWindowSize()});if(needPing){setTimeout("setPing()",1000*60)}});$(document).bind("keydown","Ctrl+g",function(a){$("#searchQuery").attr("value","");$("#searchQuery").focus();a.stopPropagation();a.preventDefault();return false});$(document).bind("keydown","left",function(a){preLink=($("#pre").attr("href"));if(typeof(preLink)!="undefined"){location.href=preLink}});$(document).bind("keydown","right",function(a){nextLink=($("#next").attr("href"));if(typeof(nextLink)!="undefined"){location.href=nextLink}});